!function(){var e={};this.tmpl=function t(n,r){var s=/\W/.test(n)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+n.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):e[n]=e[n]||t(document.getElementById(n).innerHTML);return r?s(r):s}}(),$(function(){var e=$("#testing").html(),e=$("#testing").html(),t={headerTitle:"TEST",questions:[{title:"Question №1",options:["Answer №1","Answer №2","Right answer №3"],trueValue:[2]},{title:"Question №2",options:["Answer №1","Right answer №2","Answer №3"],trueValue:[1]},{title:"Question №3",options:["Answer №1","Right answer №2","Right answer №3","Answer №4"],trueValue:[1,2]},{title:"Question №4",options:["Right answer №1","Right answer №2","Answer №3","Answer №4"],trueValue:[0,1]}],submit:"Check my results"},n=tmpl(e,t);$("body").append(n),localStorage.setItem("testing",JSON.stringify(t));var r=localStorage.getItem("testing");r=JSON.parse(r),console.log(r),$("#submit").on("click",function(){for(var e=document.getElementsByClassName("test__item"),t=JSON.parse(localStorage.getItem("testing")),n=document.querySelector("#modal-body"),r="",s=function(t){r+="<div><p>Block of questions #"+parseInt(t+1)+" has errors. Please, check answers. =(</p></div>",e[t].classList.add("errored")},o=function(e,t){for(var n=0;n<e.length;n++)if(e[n]==t)return!0;return!1},i=function(t,n,r){e[t].classList.add(n),r&&s(t)},a=0;a<e.length;a++){for(var l=t.questions[a].trueValue,u=l.length,c=e[a].getElementsByTagName("input"),p=0,g=0,d=0;d<c.length;d++){var h=c[d];if(1==h.checked)if(o(l,d)){if(1==u){i(a,"successed");break}}else{if(!(u>1)){i(a,"errored",1);break}p++}else g++;if(g==c.length){i(a,"errored",1);break}}p&&i(a,"errored",1)}r||(r="<div><p>All your answers are correct!</p></div>"),r+='<button onClick="reloadPage()">Close me!</button>',n.innerHTML=r;var f=document.querySelector(".test");f.style.opacity="0.3",n.style.display="block"})});var reloadPage=function(){return document.location.href=document.location.href},createRightAnswers=function(e){var t={};return e.questions.forEach(function(e,n){t["question"+n]=e.trueValue}),t};